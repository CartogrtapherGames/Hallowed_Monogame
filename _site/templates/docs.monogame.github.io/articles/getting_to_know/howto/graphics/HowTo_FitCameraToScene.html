<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>How to position the Camera | hallowed </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="How to position the Camera | hallowed ">
      <meta name="generator" content="docfx ">
  
      <link rel="shortcut icon" href="../../../../../../favicon.ico">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="../../../../../../styles/config.css">
      <link rel="stylesheet" href="../../../../../../styles/singulink.css">
      <link rel="stylesheet" href="../../../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
  
  <meta property="docfx:rel" content="../../../../../../">
  
    </head>
    <body>
        <!-- Header required for docfx anchor scroll to work -->
        <header id="head"></header>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>


            <a class="brand" href="../../../../../../index.html">
              <img src="../../../../../../logo.svg" alt="hallowed" class="logomark">
              <span class="brand-title">hallowed</span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">

                    <div>
                      <div class="mobile-hide">

                        <a class="brand" href="../../../../../../index.html">
                          <img src="../../../../../../logo.svg" alt="hallowed" class="logomark">
                          <span class="brand-title">hallowed</span>
                        </a>                      </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>

                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>

                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>
                </div>
                <div class="footer">
  
  <strong><a href='https://dotnet.github.io/docfx/'>DocFX</a> + <a href='https://www.singulink.com'>Singulink</a> = â™¥</strong>
                </div>            </nav>

            <main class="main-panel">

                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
                </div>
 

                <div role="main" class="hide-when-search">

                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                         <div class="contribution">
                               <a href="https://github.com/MonoGame/docs.monogame.github.io/blob/main/articles/getting_to_know/howto/graphics/HowTo_FitCameraToScene.md/#L1" class="contribution-link">Edit this page</a>
                         </div>

                    <article class="content wrap" id="_content" data-uid="">

<h2 id="overview">Overview</h2>
<p>Managing cameras in a 3D environment can be one of the most challenging tasks for any MonoGame developer, if your camera is looking the wrong way then you will not see anything on screen, or at least not what you were expecting.</p>
<p>A simple technique to handle this is to create a <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> around your visible game content and then have the camera look at the center of it.</p>
<h2 id="to-position-the-camera-to-view-all-objects-in-a-scene">To position the camera to view all objects in a scene</h2>
<ol>
<li><p>Create a <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> class that contains all of the objects in the scene. To create the sphere, loop through all of the objects in the scene, merging the <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> classes that contain them with <strong>CreateMerged</strong>.</p>
</li>
<li><p>If you are not already tracking the <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> classes for collision detection, use <strong>CreateFromBoundingBox</strong> or <strong>CreateFromPoints</strong> to create them from <a href="xref:Microsoft.Xna.Framework.BoundingBox">BoundingBox</a> classes or points.</p>
<p>In this example, the <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> classes are created from <a href="xref:Microsoft.Xna.Framework.BoundingBox">BoundingBox</a> classes.</p>
<pre><code class="lang-csharp">BoundingSphere GetSceneSphere()
{
    BoundingSphere sceneSphere =
        new BoundingSphere(new Vector3(.5f, 1, .5f), 1.5f);
    for (int z = 0; z &lt; 5; z++)
    {
        for (int x = 0; x &lt; 5; x++)
        {
            BoundingSphere boundingSphere =
                sphere.Meshes[0].BoundingSphere;
            boundingSphere.Center = new Vector3(x * 3, 0, z * 3);

            sceneSphere = BoundingSphere.CreateMerged(
                sceneSphere, boundingSphere);
        }
    }

    return sceneSphere;
}
</code></pre>
</li>
<li><p>Set the position of the camera to the center of the <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> that contains the scene.</p>
<pre><code class="lang-csharp">cameraPosition = sceneSphere.Center;
</code></pre>
</li>
<li><p>Determine the distance from the center of the <a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a> that the camera needs to be to view the entire scene.</p>
<p>This distance is equal to the hypotenuse of the triangle formed by the center of the sphere, the desired camera position, and the point where the sphere touches the view frustum. One angle of the triangle is known to be the field of view of the camera divided by two. One leg of the triangle is known to be the radius of the sphere. Given these two measurements, you can calculate the hypotenuse as the radius of the sphere divided by the sine of half the field of view.</p>
<pre><code class="lang-csharp">float distanceToCenter = sceneSphere.Radius / (float)Math.Sin(FOV / 2);
</code></pre>
</li>
<li><p>Get the <a href="xref:Microsoft.Xna.Framework.Matrix.Backward">Backward</a> vector of the view <a href="xref:Microsoft.Xna.Framework.Matrix">Matrix</a> and flip its X component.</p>
<pre><code class="lang-csharp">Vector3 back = view.Backward;
back.X = -back.X; //flip x's sign
</code></pre>
</li>
<li><p>To move the camera backward with respect to its orientation, multiply the desired distance by the adjusted back vector from the previous step.</p>
<p>The camera is now facing the center of the sphere containing the scene and is far enough back that the sphere fits in the camera's view frustum.</p>
<pre><code class="lang-csharp">cameraPosition += (back * distanceToCenter);
</code></pre>
</li>
</ol>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="HowTo_RotateMoveCamera.html">Rotating and Moving the Camera</a></li>
</ul>
<h3 id="concepts">Concepts</h3>
<ul>
<li><a href="../../whatis/graphics/WhatIs_ViewFrustum.html">What Is a View Frustum?</a></li>
<li><a href="../../whatis/graphics/WhatIs_Viewport.html">What Is a Viewport?</a></li>
</ul>
<h3 id="reference">Reference</h3>
<ul>
<li><a href="xref:Microsoft.Xna.Framework.BoundingSphere">BoundingSphere</a></li>
<li><a href="xref:Microsoft.Xna.Framework.Matrix">Matrix</a></li>
</ul>

</article>
                </div>

            </main>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/jquery.twbsPagination.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/docfx.js"></script>
        <script type="text/javascript" src="../../../../../../styles/main.js"></script>
        <script type="text/javascript" src="../../../../../../styles/singulink.js"></script>    </body>
</html>
