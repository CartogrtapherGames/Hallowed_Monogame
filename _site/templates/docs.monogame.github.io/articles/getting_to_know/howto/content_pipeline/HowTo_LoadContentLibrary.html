<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>How to load content within a Game Library? | hallowed </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="How to load content within a Game Library? | hallowed ">
      <meta name="generator" content="docfx ">
  
      <link rel="shortcut icon" href="../../../../../../favicon.ico">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="../../../../../../styles/config.css">
      <link rel="stylesheet" href="../../../../../../styles/singulink.css">
      <link rel="stylesheet" href="../../../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
  
  <meta property="docfx:rel" content="../../../../../../">
  
    </head>
    <body>
        <!-- Header required for docfx anchor scroll to work -->
        <header id="head"></header>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>


            <a class="brand" href="../../../../../../index.html">
              <img src="../../../../../../logo.svg" alt="hallowed" class="logomark">
              <span class="brand-title">hallowed</span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">

                    <div>
                      <div class="mobile-hide">

                        <a class="brand" href="../../../../../../index.html">
                          <img src="../../../../../../logo.svg" alt="hallowed" class="logomark">
                          <span class="brand-title">hallowed</span>
                        </a>                      </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>

                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>

                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>
                </div>
                <div class="footer">
  
  <strong><a href='https://dotnet.github.io/docfx/'>DocFX</a> + <a href='https://www.singulink.com'>Singulink</a> = â™¥</strong>
                </div>            </nav>

            <main class="main-panel">

                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
                </div>
 

                <div role="main" class="hide-when-search">

                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                         <div class="contribution">
                               <a href="https://github.com/MonoGame/docs.monogame.github.io/blob/main/articles/getting_to_know/howto/content_pipeline/HowTo_LoadContentLibrary.md/#L1" class="contribution-link">Edit this page</a>
                         </div>

                    <article class="content wrap" id="_content" data-uid="">


<p>There are two advanced techniques to load content files from within a game library, one in which the binary content is separate from the .DLL, and one in which the content is embedded within the .DLL.</p>
<ul>
<li><a href="#loading-content-in-a-custom-game-library">Loading Content in a custom Game Library</a></li>
<li><a href="#embedding-content-in-a-game-library">Embedding Content in a Game Library</a></li>
</ul>
<div class="IMPORTANT">
<h5>Important</h5>
<p>These approaches assume you are using Visual Studio as your IDE, it is not recommended to use VSCode due to the nature in which assets are added to the project, although you are free to find the .NET commands to achieve this.</p>
</div>
<h2 id="loading-content-in-a-custom-game-library">Loading Content in a custom Game Library</h2>
<p>In this method, the compiled content used by the game library is distributed in its own .xnb files, separate from the .DLL.</p>
<p>This is the preferred method in most cases, as it makes the most efficient use of memory, especially when binary content is large.</p>
<h3 id="to-create-compiled-content">To create compiled content</h3>
<ol>
<li>Create a new solution that contains a game library project.</li>
<li><a href="HowTo_GameContent_Add.html">Add a game content project</a> to the solution.</li>
<li>In a library project, choose <strong>Add, New Item</strong>, and select &quot;Resources File.&quot;</li>
<li>Select the game library project, then right-click and choose <strong>Add Content Reference...</strong>, and select the game content project you just created.</li>
</ol>
<p>When the solution is built, the resources in the content project will be compiled into binary .xnb files. These files will reside in the &quot;bin\x86\Debug\Content&quot; directory of the game library project (if built as an x86 debug project).</p>
<h3 id="to-load-compiled-content-within-the-game-library">To load compiled content within the Game Library</h3>
<ol>
<li><p>Create a new class that is the child of <a href="xref:Microsoft.Xna.Framework.DrawableGameComponent">DrawableGameComponent</a>.</p>
</li>
<li><p>Define a new <a href="xref:Microsoft.Xna.Framework.Content.ContentManager">ContentManager</a> and, within the constructor of the new class, set its <strong>RootDirectory</strong> to the path where the compiled content is to be stored.</p>
<p>For flexibility, the path string may be a parameter passed to the constructor by the game client.</p>
<pre><code class="lang-csharp">public static ContentManager LibContent;

public GameLibComponent(Game game, string contentdirectory) : base(game)
{
    LibContent = new ContentManager(game.Services);
    LibContent.RootDirectory = contentdirectory;
}
</code></pre>
</li>
<li><p>In the <a href="xref:Microsoft.Xna.Framework.Game#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a> method, load your content normally using your <a href="xref:Microsoft.Xna.Framework.Content.ContentManager">ContentManager</a>.</p>
<pre><code class="lang-csharp">SpriteBatch spriteBatch;
Texture2D LibTexture;

protected override void LoadContent()
{
    spriteBatch = new SpriteBatch(GraphicsDevice);
    LibTexture = LibContent.Load&lt;Texture2D&gt;(&quot;mytexture&quot;);
}
</code></pre>
</li>
</ol>
<h2 id="embedding-content-in-a-game-library">Embedding Content in a Game Library</h2>
<p>You may also embed binary content resources directly in the Game Library and load them from within. This technique requires the declaration of those resources in a reference file. It allows you to distribute code that displays textures, models, or fonts (such as a <a href="xref:Microsoft.Xna.Framework.DrawableGameComponent">DrawableGameComponent</a>) in a .DLL without distributing the .xnb files separately.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Be aware that all embedded resources are loaded into memory with the .DLL, and cannot be unloaded from main memory. For this reason, this technique is not recommended for most applications, and should only be used when the content to embed is very small.</p>
</div>
<h3 id="to-add-content-to-a-game-library-as-references">To add content to a Game Library as references</h3>
<ol>
<li><p>Build an existing project containing the content you wish to add.</p>
</li>
<li><p>In a library project, choose <strong>Add</strong>, <strong>New Item</strong>, and select &quot;Resources File&quot;.</p>
</li>
<li><p>If the <strong>Resource Designer</strong> is not opened automatically, double-click the .resx file in the <strong>Solution Explorer</strong>.</p>
</li>
<li><p>From the <strong>Resource Designer</strong>, choose <strong>Add Resource</strong>, <strong>Add Existing File</strong>.</p>
</li>
<li><p>Navigate to the &quot;bin\x86\Debug\Content&quot; directory of the project that built the content you wish to add.</p>
<blockquote>
<p>This assumes it was built as an x86 Debug project.</p>
</blockquote>
</li>
<li><p>Select the .xnb files for the content you wish to add to the library.</p>
<blockquote>
<p>Ensure the dialog box is displaying &quot;All Files&quot;.</p>
</blockquote>
</li>
</ol>
<p>Once content has been added to the <strong>Resource Designer</strong>, any code running from within the Library can load the content with a special <a href="xref:Microsoft.Xna.Framework.Content.ContentManager">ContentManager</a>.</p>
<h3 id="to-load-embedded-content-within-a-game-library">To load embedded content within a Game Library</h3>
<ol>
<li><p>Create a new class that is the child of <a href="xref:Microsoft.Xna.Framework.DrawableGameComponent">DrawableGameComponent</a>.</p>
</li>
<li><p>Define a new <a href="xref:Microsoft.Xna.Framework.Content.ContentManager">ContentManager</a>.</p>
</li>
<li><p>Within the constructor of the new class, create a new instance of the <a href="xref:Microsoft.Xna.Framework.Content.ResourceContentManager">ResourceContentManager</a> class and assign it to your <a href="xref:Microsoft.Xna.Framework.Content.ContentManager">ContentManager</a>.</p>
<p>The second parameter to the <a href="xref:Microsoft.Xna.Framework.Content.ResourceContentManager">ResourceContentManager</a> constructor identifies the resource project that contains your embedded resources.</p>
<pre><code class="lang-csharp">public static ContentManager LibContent;

public GameLibComponent(Game game)
    : base(game)
{
    ResourceContentManager resxContent;
    resxContent = new ResourceContentManager(game.Services, ResourceFile.ResourceManager);
    LibContent = resxContent;
}
</code></pre>
</li>
<li><p>In the <a href="xref:Microsoft.Xna.Framework.Game#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a> method, load your content normally using your <a href="xref:Microsoft.Xna.Framework.Content.ContentManager">ContentManager</a>.</p>
<pre><code class="lang-csharp">SpriteBatch spriteBatch;
Texture2D LibTexture;

protected override void LoadContent()
{
    spriteBatch = new SpriteBatch(GraphicsDevice);
    LibTexture = LibContent.Load&lt;Texture2D&gt;(&quot;mytexture&quot;);
}
</code></pre>
</li>
</ol>
<h2 id="see-also">See Also</h2>
<h3 id="reference">Reference</h3>
<ul>
<li><a href="xref:Microsoft.Xna.Framework.Game">Game Class</a></li>
<li><a href="xref:Microsoft.Xna.Framework.Game#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a></li>
<li><a href="xref:Microsoft.Xna.Framework.Game.UnloadContent">UnloadContent</a></li>
<li><a href="xref:Microsoft.Xna.Framework.Game">Game Members</a></li>
<li><a href="xref:Microsoft.Xna.Framework">Microsoft.Xna.Framework Namespace</a></li>
</ul>

</article>
                </div>

            </main>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/jquery.twbsPagination.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/docfx.js"></script>
        <script type="text/javascript" src="../../../../../../styles/main.js"></script>
        <script type="text/javascript" src="../../../../../../styles/singulink.js"></script>    </body>
</html>
