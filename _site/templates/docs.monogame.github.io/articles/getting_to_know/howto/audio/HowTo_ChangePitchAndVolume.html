<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>How to adjust Pitch and Volume | hallowed </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="How to adjust Pitch and Volume | hallowed ">
      <meta name="generator" content="docfx ">
  
      <link rel="shortcut icon" href="../../../../../../favicon.ico">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="../../../../../../styles/config.css">
      <link rel="stylesheet" href="../../../../../../styles/singulink.css">
      <link rel="stylesheet" href="../../../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
  
  <meta property="docfx:rel" content="../../../../../../">
  
    </head>
    <body>
        <!-- Header required for docfx anchor scroll to work -->
        <header id="head"></header>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>


            <a class="brand" href="../../../../../../index.html">
              <img src="../../../../../../logo.svg" alt="hallowed" class="logomark">
              <span class="brand-title">hallowed</span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">

                    <div>
                      <div class="mobile-hide">

                        <a class="brand" href="../../../../../../index.html">
                          <img src="../../../../../../logo.svg" alt="hallowed" class="logomark">
                          <span class="brand-title">hallowed</span>
                        </a>                      </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>

                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>

                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>
                </div>
                <div class="footer">
  
  <strong><a href='https://dotnet.github.io/docfx/'>DocFX</a> + <a href='https://www.singulink.com'>Singulink</a> = â™¥</strong>
                </div>            </nav>

            <main class="main-panel">

                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
                </div>
 

                <div role="main" class="hide-when-search">

                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                         <div class="contribution">
                               <a href="https://github.com/MonoGame/docs.monogame.github.io/blob/main/articles/getting_to_know/howto/audio/HowTo_ChangePitchAndVolume.md/#L1" class="contribution-link">Edit this page</a>
                         </div>

                    <article class="content wrap" id="_content" data-uid="">

<h2 id="overview">Overview</h2>
<p>In this example, you will walk through the basics of dynamic sounds, using the more advanced <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance">SoundEffectInstance</a> cl;ass over the basic <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect.Play">SoundEffect.Play</a> method used in <a href="HowTo_PlayASound.html">Playing a Sound</a>.</p>
<h2 id="using-soundeffectinstance">Using SoundEffectInstance</h2>
<p>The <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect.Play">SoundEffect.Play</a></strong> method allows you to specify the pitch and volume of a sound to play. However, after you call <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect.Play">Play</a></strong> you cannot modify the sound.</p>
<p>Using <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance">SoundEffectInstance</a></strong> for a given <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect">SoundEffect</a></strong>, allows you to change the <strong>pitch</strong> and <strong>volume</strong> of a sound at any time during playback.</p>
<div class="NOTE">
<h5>Note</h5>
<p>The pitch of a sound changes the frequency of the sound, which in turn changes the speed of the sound. The volume of a sound changes the amplitude of the sound, which in turn changes the loudness of the sound.</p>
</div>
<h2 id="requirements">Requirements</h2>
<p>This sample uses a sound file named <a href="files/tx0_fire1.wav">tx0_fire1.wav</a>, which you can download from <a href="files/tx0_fire1.wav">this link here</a>. (save-as)
But you can use your own if you wish.</p>
<h2 id="change-pitch-and-volume-of-sound">Change Pitch and Volume of Sound</h2>
<ol>
<li><p>Declare a <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect">SoundEffect</a></strong> and a <a href="http://msdn.microsoft.com/en-us/library/system.io.stream.aspx">Stream</a> file by using the method shown in <a href="HowTo_PlayASound.html">Playing a Sound</a>. In addition to the method described in <a href="HowTo_PlayASound.html">Playing a Sound</a>, declare a <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance">SoundEffectInstance</a></strong> and a <strong>Sound Effect</strong> field member. We also create two float fields for <strong>pitch</strong> and <strong>volume</strong> to store the pitch and volume of the sound effect and assign initial values to them.</p>
<pre><code class="lang-csharp">// place these usings at the top of the file
using System.IO;
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Audio;
using Microsoft.Xna.Framework.Graphics;
using Microsoft.Xna.Framework.Input;

// place these fields at the top of the class
private SoundEffect soundEffect;
private SoundEffectInstance soundEffectInstance;
private float pitch = 0.75f;
private float volume = 0.5f;
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>Usings are declared at the top of the file to ensure that the necessary namespaces are available to the class. The fields are declared at the top of the class to ensure that they are accessible to all methods in the class.</p>
</div>
</li>
<li><p>In the <a href="xref:Microsoft.Xna.Framework.Game.LoadContent">Game.LoadContent</a> method, set the <strong>SoundEffectInstance</strong> object to the return value of <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect.CreateInstance">SoundEffect.CreateInstance</a>.</p>
</li>
<li><p>In the <strong><a href="xref:Microsoft.Xna.Framework.Game.LoadContent">Game.LoadContent</a></strong> method, set the <strong>SoundEffectInstance</strong> object to the return value of <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect.CreateInstance">SoundEffect.CreateInstance</a></strong>. We also optionally define a variable <strong>soundFile</strong> to store the location of the sound file being used with the <strong><a href="xref:Microsoft.Xna.Framework.TitleContainer#Microsoft_Xna_Framework_TitleContainer_OpenStream_System_String_">TitleContainer.OpenStream</a></strong> method, which is accessed with the  <strong>using</strong> keyword, and include a field member variable called <strong>soundEffect</strong>, to hold the stream.</p>
<pre><code class="lang-csharp">using Stream soundfile = TitleContainer.OpenStream(@&quot;Content\tx0_fire1.wav&quot;);
soundEffect = SoundEffect.FromStream(soundfile);
soundEffectInstance = soundEffect.CreateInstance();
</code></pre>
<blockquote>
<p>[IMPORTANT]
As we need the raw wav file and not a compressed version to access its stream, make sure to set the 'Build Action' in the MGCB tool to 'COPY'
<img src="./images/set_wav_to_copy.png" alt="Copy build action"></p>
</blockquote>
</li>
<li><p>Adjust the sound to the desired level using the <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance.Pitch">SoundEffectInstance.Pitch</a> and <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance.Volume">SoundEffectInstance.Volume</a> properties.</p>
<pre><code class="lang-csharp">// Pitch takes values from -1 to 1
soundEffectInstance.Pitch = pitch;

// Volume only takes values from 0 to 1
soundEffectInstance.Volume = volume;
</code></pre>
</li>
<li><p>Play the sound using <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance.Play">SoundEffectInstance.Stop</a>.</p>
<pre><code class="lang-csharp">// Play Sound
soundEffectInstance.Play();
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>An instance will play once, to loop the sound, you can use the <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance.IsLooped">SoundEffectInstance.IsLooped</a></strong> property to set the sound to loop. Also note that the sound will not repeat until the sound has finished playing. You can utilise the <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance.State">SoundEffectInstance.State</a></strong> property to check if the sound is playing, paused or stopped. Use the <strong><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance.Stop">SoundEffectInstance.Stop</a></strong> method to stop the sound.</p>
</div>
</li>
</ol>
<h2 id="an-extended-example">An Extended Example</h2>
<ol>
<li><p>Below the <strong><a href="xref:Microsoft.Xna.Framework.Game#Microsoft_Xna_Framework_Game_Draw_Microsoft_Xna_Framework_GameTime_">Game.Draw</a></strong> method, create a new method called <strong>IsKeyPressed</strong>, which will check if a specified key is pressed and return a boolean value of true if it has been pressed.</p>
<pre><code class="lang-csharp">private bool IsKeyPressed(Keys key)
{
    return Keyboard.GetState().IsKeyDown(key);
}
</code></pre>
</li>
<li><p>In the <strong><a href="xref:Microsoft.Xna.Framework.Game#Microsoft_Xna_Framework_Game_Update_Microsoft_Xna_Framework_GameTime_">Game.Update</a></strong> method, we will add a check to see if the <strong>Space</strong> key is pressed and adjust the pitch and volume of the sound effect accordingly. The pitch and volume values are adjusted by +0.1f each time the <strong>Space key</strong> is pressed. The pitch values are clamped to a minimum value of -1.0f and a maximum value of 1.0f, and the volume values are then clamped to a minimum value of 0f and a maximum value of 1.0f. This is done to ensure that the pitch and volume values are within  valid ranges.</p>
</li>
</ol>
<pre><code class="lang-csharp">   // Check if the SpaceKey is pressed and play the instance
   if (IsKeyPressed(Keys.Space))
       {
        pitch += 0.1f;
        volume += 0.1f;
        pitch = MathHelper.Clamp(pitch, -1.0f, 1.0f);
        volume = MathHelper.Clamp(volume, 0f, 1.0f);
        soundEffectInstance.Pitch = pitch;
        soundEffectInstance.Volume = volume;
        soundEffectInstance.Play();
       }
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The <strong>MathHelper.Clamp</strong> method is used to ensure that the pitch and volume values are within the valid range. The pitch value is clamped between -1 and 1, while the volume value is clamped between 0 and 1.</p>
</div>
<div class="IMPORTANT">
<h5>Important</h5>
<p>The check for the keypress does not prevent the call to the method repeating so any value entered may peak the value in a single key press. To prevent this, you can add a delay to the key press check, or use a boolean value to check if the key has been pressed and released.</p>
</div>
<h2 id="see-also">See Also</h2>
<ul>
<li><p><a href="HowTo_PlayASound.html">Playing a Sound</a></p>
<p>Demonstrates how to play a simple sound by using <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect">SoundEffect</a>.</p>
</li>
<li><p><a href="HowTo_LoopASound.html">Looping a Sound</a></p>
<p>Demonstrates how to loop a sound.</p>
</li>
<li><p><a href="HowTo_StreamDataFromWav.html">Stream data from a Wav</a></p>
<p>Demonstrates how to load a wav file through a file stream.</p>
</li>
<li><p><a href="../../whatis/audio/index.html">Creating and Playing Sounds</a></p>
<p>Provides overviews about audio technology, and presents predefined scenarios to demonstrate how to use audio.</p>
</li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><p><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect">SoundEffect Class</a></p>
<p>Provides a loaded sound resource.</p>
</li>
<li><p><a href="xref:Microsoft.Xna.Framework.Audio.SoundEffectInstance">SoundEffectInstance Class</a></p>
<p>Provides a single playing, paused, or stopped instance of a <a href="xref:Microsoft.Xna.Framework.Audio.SoundEffect">SoundEffect</a> sound.</p>
</li>
</ul>

</article>
                </div>

            </main>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/jquery.twbsPagination.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>
        <script type="text/javascript" src="../../../../../../styles/docfx.js"></script>
        <script type="text/javascript" src="../../../../../../styles/main.js"></script>
        <script type="text/javascript" src="../../../../../../styles/singulink.js"></script>    </body>
</html>
