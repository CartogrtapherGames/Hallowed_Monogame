<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>MonoGame Content Builder (MGCB) | hallowed </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="MonoGame Content Builder (MGCB) | hallowed ">
      <meta name="generator" content="docfx ">
  
      <link rel="shortcut icon" href="../../../../../favicon.ico">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="../../../../../styles/config.css">
      <link rel="stylesheet" href="../../../../../styles/singulink.css">
      <link rel="stylesheet" href="../../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../../toc.html">
      <meta property="docfx:tocrel" content="../../toc.html">
  
  <meta property="docfx:rel" content="../../../../../">
  
    </head>
    <body>
        <!-- Header required for docfx anchor scroll to work -->
        <header id="head"></header>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>


            <a class="brand" href="../../../../../index.html">
              <img src="../../../../../logo.svg" alt="hallowed" class="logomark">
              <span class="brand-title">hallowed</span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">

                    <div>
                      <div class="mobile-hide">

                        <a class="brand" href="../../../../../index.html">
                          <img src="../../../../../logo.svg" alt="hallowed" class="logomark">
                          <span class="brand-title">hallowed</span>
                        </a>                      </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>

                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>

                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>
                </div>
                <div class="footer">
  
  <strong><a href='https://dotnet.github.io/docfx/'>DocFX</a> + <a href='https://www.singulink.com'>Singulink</a> = ♥</strong>
                </div>            </nav>

            <main class="main-panel">

                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
                </div>
 

                <div role="main" class="hide-when-search">

                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                         <div class="contribution">
                               <a href="https://github.com/MonoGame/docs.monogame.github.io/blob/main/articles/getting_started/tools/mgcb.md/#L1" class="contribution-link">Edit this page</a>
                         </div>

                    <article class="content wrap" id="_content" data-uid="">


<p>The MonoGame Content Builder is a command line tool for building XNB content on Windows, Mac, and Linux desktop systems.</p>
<p>Typically, it is executed by the <a href="mgcb_editor.html">MGCB Editor</a> when editing content or by <code>MonoGame.Content.Builder.Task</code> during the build process
of a MonoGame project. Alternatively you can use it yourself from the command line for specialized build pipelines or for debugging content processing.</p>
<h2 id="installation">Installation</h2>
<p>MGCB can be installed as a <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools">.NET tool</a>.
Make sure you have the .NET SDK installed. You can download it <a href="https://dotnet.microsoft.com/download">here</a>.</p>
<p>In a terminal run <code>dotnet tool install -g dotnet-mgcb</code> to install MGCB. Then you can execute MGCB by simply running <code>mgcb</code>.</p>
<h2 id="command-line-options">Command Line Options</h2>
<p>The options are processed “left to right”. When an option is repeated, it is overwritten.</p>
<h3 id="output-directory">Output Directory</h3>
<pre><code class="lang-sh">/outputDir:&lt;directory_path&gt;
</code></pre>
<p>Specifies the directory where all content is written. Defaults to the current working directory.</p>
<h3 id="intermediate-directory">Intermediate Directory</h3>
<pre><code class="lang-sh">/intermediateDir:&lt;directory_path&gt;
</code></pre>
<p>Specifies the directory where all intermediate files are written. Defaults to the current working directory.</p>
<h3 id="rebuild-content">Rebuild Content</h3>
<pre><code class="lang-sh">/rebuild
</code></pre>
<p>Force a full rebuild of all content.</p>
<h3 id="clean-content">Clean Content</h3>
<pre><code class="lang-sh">/clean
</code></pre>
<p>Delete all previously built content and intermediate files. Only the <code>/intermediateDir</code> and <code>/outputDir</code> need to be defined for clean to do its job.</p>
<h3 id="incremental-build">Incremental Build</h3>
<pre><code class="lang-sh">/incremental
</code></pre>
<p>Only build content that changed since the last build.</p>
<h3 id="assembly-reference">Assembly Reference</h3>
<pre><code class="lang-sh">/reference:&lt;assembly_path&gt;
</code></pre>
<p>An optional parameter which adds an assembly reference which contains importers, processors, or writers needed during content building.</p>
<h3 id="target-platform">Target Platform</h3>
<pre><code class="lang-sh">/platform:&lt;target_Platform&gt;
</code></pre>
<p>Set the target platform for this build. It must be a member of the &lt;xref:Microsoft.Xna.Framework.Content.Pipeline.TargetPlatform&gt; enum:</p>
<ul>
<li>Windows</li>
<li>iOS</li>
<li>Android</li>
<li>DesktopGL</li>
<li>WindowsStoreApp</li>
<li>PlayStation4</li>
<li>PlayStation5</li>
<li>XboxOne</li>
<li>Switch</li>
</ul>
<p>If not set, it will default to Windows.</p>
<p>NOTE: PlayStation 4, PlayStation 5, Xbox One, and Switch support is only available to licensed console developers.</p>
<h3 id="target-graphics-profile">Target Graphics Profile</h3>
<pre><code class="lang-sh">/profile:&lt;graphics_Profile&gt;
</code></pre>
<p>Set the target graphics profile for this build. It must be a member of the &lt;xref:Microsoft.Xna.Framework.Graphics.GraphicsProfile&gt; enum:</p>
<ul>
<li>HiDef</li>
<li>Reach</li>
</ul>
<p>If not set, it will default to HiDef.</p>
<h3 id="target-build-configuration">Target Build Configuration</h3>
<pre><code class="lang-sh">/config:&lt;build_config&gt;
</code></pre>
<p>The optional build configuration name from the build system. This is sometimes used as a hint in content processors.</p>
<h3 id="content-compression">Content Compression</h3>
<pre><code class="lang-sh">/compress
</code></pre>
<p>Uses LZ4 compression to compress the contents of the XNB files. Content build times will increase with this option enabled. Compression is not recommended for Android as the app package is already compressed. This is not compatible with LZX compression used in XNA content.</p>
<h3 id="content-importer-name">Content Importer Name</h3>
<pre><code class="lang-sh">/importer:&lt;class_name&gt;
</code></pre>
<p>An optional parameter which defines the class name of the content importer for reading source content. If the option is omitted or used without a class name the default content importer for the source type is used.</p>
<h3 id="content-processor-name">Content Processor Name</h3>
<pre><code class="lang-sh">/processor:&lt;class_name&gt;
</code></pre>
<p>An optional parameter which defines the class name of the content processor for processing imported content. If the option is omitted used without a class name the default content processor for the imported content is used.</p>
<p>Note that when you change the processor all previously defined <code>/processorParam</code> are cleared.</p>
<h3 id="content-processor-parameter">Content Processor Parameter</h3>
<pre><code class="lang-sh">/processorParam:&lt;name&gt;=&lt;value&gt;
</code></pre>
<p>An optional parameter which defines a parameter name and value to set on a content processor.</p>
<p>Note all defined processor parameters are cleared when the <code>/processor</code> is set.</p>
<h3 id="build-content-file">Build Content File</h3>
<pre><code class="lang-sh">/build:&lt;content_filepath&gt;
/build:&lt;content_filepath&gt;;&lt;destination_filepath&gt;
</code></pre>
<p>Instructs the content builder to build the specified content file using the previously set switches and options. Optional destination path may be specified if you want to change the output file path.</p>
<h3 id="launch-debugger">Launch Debugger</h3>
<pre><code class="lang-sh">/launchdebugger
</code></pre>
<p>Allows a debugger to attach to the MGCB executable before content is built.</p>
<h3 id="response-file">Response File</h3>
<pre><code class="lang-sh">/@:&lt;response_filepath&gt;
</code></pre>
<p>This defines a text response file (sometimes called a command file) that contains the same options and switches you would normally find on the command line.</p>
<p>Each switch is specified on a new line. Comment lines are prefixed with #. These lines are ignored. You can specify multiple response files or mix normal command line switches with response files.</p>
<p>An example response file could look like this:</p>
<pre><code class="lang-sh"># Directories
/outputDir:bin/foo
/intermediateDir:obj/foo

/rebuild

# Build a texture
/importer:TextureImporter
/processor:TextureProcessor
/processorParam:ColorKeyEnabled=false
/build:Textures\wood.png
/build:Textures\metal.png
/build:Textures\plastic.png
</code></pre>
<h4 id="preprocessor-macros">Preprocessor Macros</h4>
<p>Response files support preprocessor macros to allow conditionals within a response file.</p>
<pre><code class="lang-sh">$if &lt;name&gt;=&lt;value&gt;
$endif
</code></pre>
<p>Preprocessor symbols can be defined from the command line with the <code>define</code> option or in a response file with the <code>$set</code> directive.</p>
<pre><code class="lang-sh">&lt;example command line&gt;
MGCB.exe /define:BuildEffects=No /@:example.mgcb

&lt;example.mgcb file&gt;
$if BuildEffects=Yes
   /importer:EffectImporter
   /processor:EffectProcessor
   /build:Effects\custom.fx
   # all other effects here....
$endif
</code></pre>
<pre><code class="lang-sh">$set BuildEffects=Yes

$if BuildEffects=Yes
    # ...
    # This is executed
$endif
</code></pre>
<p>For booleans you can omit a value to set a symbol and to check if it is set:</p>
<pre><code class="lang-sh">$set BuildEffects

$if BuildEffects
    # ...
    # This is executed
$endif
</code></pre>
<h3 id="customizing-your-build-process">Customizing your Build Process</h3>
<p>When building content from your project with <code>MonoGame.Content.Builder.Task</code>, there are a few ways to hook into the build process. <code>MonoGame.Content.Builder.Task</code> runs a target called
<code>RunContentBuilder</code> just before your project builds. If you want to do any processing before or after this process you can use the <code>BeforeTargets</code> and <code>AfterTargets</code> mechanism provided
by <code>msbuild</code> to run your own targets.</p>
<pre><code class="lang-sh">&lt;Target Name=&quot;MyBeforeTarget&quot; BeforeTargets=&quot;RunContentBuilder&quot;&gt;
   &lt;Message Text=&quot;MyBeforeTarget Ran&quot;/&gt;
&lt;/Target&gt;
&lt;Target Name=&quot;MyAfterTarget&quot; AfterTargets=&quot;RunContentBuilder&quot;&gt;
   &lt;Message Text=&quot;MyAfterTarget Ran&quot;/&gt;
&lt;/Target&gt;
</code></pre>
<p>If you want to customize the arguments sent to the <code>MGCB.exe</code> as part of the build process you can use the <code>&lt;MonoGameMGCBAdditionalArguments&gt;</code> property to define those.
For example to pass in the current project configuration you could include the following code in a PropertyGroup in your .csproj file.</p>
<pre><code class="lang-sh">&lt;MonoGameMGCBAdditionalArguments&gt;-config:$(Configuration)&lt;/MonoGameMGCBAdditionalArguments&gt;
</code></pre>

</article>
                </div>

            </main>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script type="text/javascript" src="../../../../../styles/jquery.twbsPagination.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js"></script>
        <script type="text/javascript" src="../../../../../styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>
        <script type="text/javascript" src="../../../../../styles/docfx.js"></script>
        <script type="text/javascript" src="../../../../../styles/main.js"></script>
        <script type="text/javascript" src="../../../../../styles/singulink.js"></script>    </body>
</html>
